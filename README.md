# Livox PCAP 提取点云(LVX2) / IMU(CSV) 工具

## 简介
一个用于提取（通过 Wireshark/Tcpdump 捕获的）Livox 激光雷达 PCAP 格式数据的工具。支持点云数据提取为 LVX2 格式，后者可在官方上位机软件 Livox Viewer2 中直接读取。同时支持提取 IMU 数据为 CSV 格式。支持中文路径，提供图形界面操作。

## 功能
- **点云数据转为 LVX2**：多雷达数据自动识别，提取 pcap 中的点云数据并保存为 LVX2 格式
  - ✅ 支持数据类型1：直角坐标，32位精度，14字节/点
  - ✅ 支持数据类型2：直角坐标，16位精度，8字节/点  
  - ✅ 支持数据类型3：球坐标格式，自动转换为直角坐标
- **IMU数据 转为 CSV**：提取 pcap 中的 IMU 数据并保存为 CSV 格式
- **全中文界面和日志**

## 使用方法
1. 运行程序。
2. 点击"选择文件"按钮，选取 PCAP/PCAPNG/CAP 文件
3. 点击"提取点云数据 to LVX2"按钮，自动提取点云数据为 LVX2 文件
4. 点击"提取IMU数据 to CSV"按钮，自动提取 IMU 数据为 CSV 文件
5. 点击"打开输出文件夹"，跳转到输出文件夹
6. 点击"退出"按钮或关闭窗口。

## 技术特性

### 智能数据类型检测
- 程序会自动检测每个点云数据包的数据类型
- 根据检测结果选择最佳处理方式
- 实时日志显示检测到的数据格式

### 自动坐标转换
- 球坐标数据自动转换为直角坐标
- 保持数据精度和完整性
- 支持批量转换处理

### 兼容性保证
- LVX2文件格式完全兼容Livox Viewer2
- 支持所有Livox设备类型（Mid-360、HAP等）
- 向后兼容现有数据类型1

## 注意事项
- 首次运行时，需要选择 editcap.exe 的路径（通常位于 Wireshark 安装目录）
- 转换过程中请勿关闭程序
- 选择 PCAPNG 文件时，程序会先转换为 PCAP 中间文件，确保有足够的磁盘空间

## 常见问题

1. 程序无法启动
   - 检查是否安装了所需的运行库
   - 检查是否以管理员权限运行

2. 转换失败
   - 检查输入文件是否完整
   - 检查文件格式是否正确
   - 查看错误提示弹窗获取详细原因

3. editcap 路径问题
   - 确保 Wireshark 已正确安装
   - 可以手动删除配置文件重新选择路径

4. 点云数据类型问题
   - 程序会自动检测数据类型，无需手动设置
   - 如果遇到未知数据类型，程序会使用默认的数据类型1处理

---

## 版本
- 版本：1.4.0
- 日期：2025-08-21
- 许可证：BSD-3-Clause

## 更新日志

### v1.4.0 (2025-08-21)
- ✨ 新增支持三种点云数据类型
- 🔧 优化点云数据处理流程


### v1.3.0 (2025-07-09)
- ✅ 支持 Livox HAP 设备

## 计划
- [x] 支持 Livox HAP
- [x] 支持多种点云数据类型
- [ ] 多文件批量处理
- [ ] 进度显示
- [ ] 自定义输出目录
- [ ] 点云数据可视化预览

## 许可证
BSD-3-Clause，详见 [LICENSE](LICENSE)。 
